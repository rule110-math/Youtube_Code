
Clear[f]
f[a_, {}] := a
f[a_, {x_, y___}] := If[a - x >= 0, {x, f[a - x, {x, y}]}, f[a, {y}]]
greedy[a_, m_] := f[a, m] // Flatten
